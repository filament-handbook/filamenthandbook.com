function c(e){e.directive("intersect",e.skipDuringClone((e,{value:n,expression:r,modifiers:t},{evaluateLater:i,cleanup:c})=>{let o=i(r),s={rootMargin:x(t),threshold:d(t)},l=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting!==("leave"===n)&&(o(),t.includes("once"))&&l.disconnect()})},s);l.observe(e),c(()=>{l.disconnect()})}))}function d(e){return e.includes("full")?.99:e.includes("half")?.5:e.includes("threshold")?"100"===(e=e[e.indexOf("threshold")+1])?1:"0"===e?0:Number("."+e):0}function p(e){e=e.match(/^(-?[0-9]+)(px|%)?$/);return e?e[1]+(e[2]||"px"):void 0}function x(n){var e="0px 0px 0px 0px",r=n.indexOf("margin");if(-1===r)return e;let t=[];for(let e=1;e<5;e++)t.push(p(n[r+e]||""));return(t=t.filter(e=>void 0!==e)).length?t.join(" ").trim():e}var b=c;export{b as default,c as intersect};